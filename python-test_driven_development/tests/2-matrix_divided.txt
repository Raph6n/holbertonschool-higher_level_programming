from matrix_operations import matrix_multiply

# Tests for normal cases
matrix1 = [[1, 2], [3, 4]]
matrix2 = [[2, 0], [1, 2]]

# Test matrix multiplication for 2x2 matrices
assert matrix_multiply(matrix1, matrix2) == [[4, 4], [10, 8]]

# Tests for error handling
# Test handling of empty matrices
assert matrix_multiply([], [[1]]) is None
assert matrix_multiply([[1]], []) is None

# Test handling of incompatible sizes
matrix3 = [[1, 2, 3], [4, 5, 6]]  # A 2x3 matrix
matrix4 = [[1, 2], [3, 4]]  # A 2x2 matrix
# Multiplication should not be possible and should raise an exception
try:
    matrix_multiply(matrix3, matrix4)
    assert False, "Multiplying matrices of incompatible sizes should raise an exception"
except ValueError:
    pass  # This is expected behavior

# All tests passed!
